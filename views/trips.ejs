<%- include('partials/header.ejs') %>
<h2>Hello, Welcome Back!</h2>
	<% if (trips && trips.length > 0) { %>
    	<div class="container">
    		<div class="row justify-content-center">
    			<% trips.forEach(trip => { %>
    				<div class="col">
    					<div class="card" style="width: 20rem;">
    						<img src="<%= trip.imageurl %>"
    							class="card-img-top" 
    							alt="Destination image">
    						<div class="card-body">
    							<h5 class="card-title">
    								<%= trip.title %>
    							</h5>
                                <h6 class="card-subtitle text-body-secondary">
                                    <i class="bi bi-geo-fill" style="font-size: 1rem; color: #DCDCDC;"></i>
                                    <%= trip.country %>, <%= trip.city %>
                                </h6>
								<p class="card-text text-body-secondary ">
									<i class="bi bi-person-circle" style="font-size: 1rem; color: #DCDCDC;"></i> <%= trip.username %>
								</p>
								<p class="card-text "><%= trip.content%>
								</p>
    							<a href="/trips/<%= trip._id %>" class="btn btn-primary btn-sm mb-2">
    								Edit <%= trip.title %>
    							</a>
								<!-- Using Window confirm() method to displays a dialog box with a message an OK button, and a Cancel button.  ---from W3schools-->
								<form action="/trips/delete/<%= trip._id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this trip?');;">
									<button class="btn btn-danger btn-sm mb-2" type="submit">
    									Delete <%= trip.title %>
									</button>
								</form>
    						</div>
    					</div>
    				</div>
    			<% }) %>
    		</div>
    	</div>
	<% } else { %>
	<h3>There is no article in this travel blog. Please click the "Create Travel Itinerary" button to start your travel blog.</h3>
	<% } %>

</main>
<%- include('partials/footer.ejs') %>